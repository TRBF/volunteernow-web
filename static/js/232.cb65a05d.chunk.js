"use strict";(self.webpackChunkvolunteernow_web=self.webpackChunkvolunteernow_web||[]).push([[232],{4232:(e,t,o)=>{o.r(t),o.d(t,{default:()=>ce});var r=o(5043),n=o(3216),i=o(6446),s=o(9252),l=o(9065),a=o(5865),p=o(3336),c=o(1045),d=o(3845),u=o(7392),m=o(1906),h=o(1082),x=o(7225),g=o(9662),A=o(579);const f=(0,g.A)((0,A.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"}),"Favorite"),y=(0,g.A)((0,A.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"}),"FavoriteBorder");var v=o(6291);const b=()=>{const e=(0,n.Zp)(),[t,o]=(0,r.useState)([]),[s,l]=(0,r.useState)(!0);(0,r.useEffect)((()=>{g()}),[]);const g=async()=>{try{const e=await v.R0.getOpportunities();o(e)}catch(e){console.error("Error fetching opportunities:",e)}finally{l(!1)}};return s?(0,A.jsx)(a.A,{children:"Loading..."}):(0,A.jsx)(i.A,{sx:{display:"flex",flexDirection:"column",gap:4},children:t.map((t=>(0,A.jsxs)(p.A,{elevation:0,sx:{width:"100%",borderRadius:1,border:"1px solid",borderColor:"divider",overflow:"hidden"},children:[(0,A.jsx)(i.A,{component:"img",src:t.image_url,alt:t.title,sx:{width:"100%",height:"400px",objectFit:"cover"}}),(0,A.jsxs)(i.A,{sx:{p:2},children:[(0,A.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,A.jsx)(c.A,{sx:{mr:1},children:t.organization[0]}),(0,A.jsx)(a.A,{variant:"subtitle1",sx:{fontWeight:600},children:t.organization})]}),(0,A.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:t.title}),(0,A.jsxs)(i.A,{sx:{display:"flex",gap:1,mb:2},children:[(0,A.jsx)(d.A,{icon:(0,A.jsx)(h.A,{}),label:t.location,size:"small",sx:{borderRadius:1}}),(0,A.jsx)(d.A,{icon:(0,A.jsx)(x.A,{}),label:new Date(t.date).toLocaleDateString(),size:"small",sx:{borderRadius:1}})]}),(0,A.jsx)(a.A,{variant:"body2",color:"text.secondary",sx:{mb:2,whiteSpace:"pre-wrap"},children:t.description}),(0,A.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,A.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,A.jsx)(u.A,{size:"small",onClick:()=>(async e=>{try{await v.R0.likeOpportunity(e.toString()),o((t=>t.map((t=>t.id===e?{...t,likes:t.likes+1}:t))))}catch(t){console.error("Error liking opportunity:",t)}})(t.id),children:t.likes>0?(0,A.jsx)(f,{color:"error"}):(0,A.jsx)(y,{})}),(0,A.jsx)(a.A,{variant:"body2",children:t.likes||0})]}),(0,A.jsx)(m.A,{variant:"contained",size:"small",onClick:()=>e(`/opportunity/${t.id}`),sx:{borderRadius:1},children:"View Details"})]})]})]},t.id)))})};var w=o(1637),j=o(5721),C=o(681),T=o(3851),R=o(8734),k=o(8587),S=o(8168),P=o(8387),L=o(9303),M=o(8610),E=o(7266),D=o(875),O=o(5006),I=o(3198),z=o(4535),F=o(6240),N=o(8206),W=o(6803),B=o(6328),$=o(5953),H=o(3319),U=o(5849);const V=o(5844).A;var X=o(3574),Z=o(4516),_=o(2532),Y=o(2372);function G(e){return(0,Y.Ay)("MuiTooltip",e)}const q=(0,_.A)("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),J=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];const K=(0,z.Ay)($.A,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.popper,!o.disableInteractive&&t.popperInteractive,o.arrow&&t.popperArrow,!o.open&&t.popperClose]}})((e=>{let{theme:t,ownerState:o,open:r}=e;return(0,S.A)({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!o.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},o.arrow&&{[`&[data-popper-placement*="bottom"] .${q.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${q.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${q.arrow}`]:(0,S.A)({},o.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${q.arrow}`]:(0,S.A)({},o.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})})),Q=(0,z.Ay)("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.tooltip,o.touch&&t.touch,o.arrow&&t.tooltipArrow,t[`tooltipPlacement${(0,W.A)(o.placement.split("-")[0])}`]]}})((e=>{let{theme:t,ownerState:o}=e;return(0,S.A)({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:(0,E.X4)(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},o.arrow&&{position:"relative",margin:0},o.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:(r=16/14,Math.round(1e5*r)/1e5)+"em",fontWeight:t.typography.fontWeightRegular},{[`.${q.popper}[data-popper-placement*="left"] &`]:(0,S.A)({transformOrigin:"right center"},o.isRtl?(0,S.A)({marginLeft:"14px"},o.touch&&{marginLeft:"24px"}):(0,S.A)({marginRight:"14px"},o.touch&&{marginRight:"24px"})),[`.${q.popper}[data-popper-placement*="right"] &`]:(0,S.A)({transformOrigin:"left center"},o.isRtl?(0,S.A)({marginRight:"14px"},o.touch&&{marginRight:"24px"}):(0,S.A)({marginLeft:"14px"},o.touch&&{marginLeft:"24px"})),[`.${q.popper}[data-popper-placement*="top"] &`]:(0,S.A)({transformOrigin:"center bottom",marginBottom:"14px"},o.touch&&{marginBottom:"24px"}),[`.${q.popper}[data-popper-placement*="bottom"] &`]:(0,S.A)({transformOrigin:"center top",marginTop:"14px"},o.touch&&{marginTop:"24px"})});var r})),ee=(0,z.Ay)("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})((e=>{let{theme:t}=e;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:(0,E.X4)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}}));let te=!1;const oe=new L.E;let re={x:0,y:0};function ne(e,t){return function(o){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];t&&t(o,...n),e(o,...n)}}const ie=r.forwardRef((function(e,t){var o,n,i,s,l,a,p,c,d,u,m,h,x,g,f,y,v,b,w;const j=(0,N.b)({props:e,name:"MuiTooltip"}),{arrow:C=!1,children:T,components:R={},componentsProps:E={},describeChild:z=!1,disableFocusListener:_=!1,disableHoverListener:Y=!1,disableInteractive:q=!1,disableTouchListener:ie=!1,enterDelay:se=100,enterNextDelay:le=0,enterTouchDelay:ae=700,followCursor:pe=!1,id:ce,leaveDelay:de=0,leaveTouchDelay:ue=1500,onClose:me,onOpen:he,open:xe,placement:ge="bottom",PopperComponent:Ae,PopperProps:fe={},slotProps:ye={},slots:ve={},title:be,TransitionComponent:we=B.A,TransitionProps:je}=j,Ce=(0,k.A)(j,J),Te=r.isValidElement(T)?T:(0,A.jsx)("span",{children:T}),Re=(0,F.A)(),ke=(0,D.I)(),[Se,Pe]=r.useState(),[Le,Me]=r.useState(null),Ee=r.useRef(!1),De=q||pe,Oe=(0,L.A)(),Ie=(0,L.A)(),ze=(0,L.A)(),Fe=(0,L.A)(),[Ne,We]=(0,Z.A)({controlled:xe,default:!1,name:"Tooltip",state:"open"});let Be=Ne;const $e=V(ce),He=r.useRef(),Ue=(0,H.A)((()=>{void 0!==He.current&&(document.body.style.WebkitUserSelect=He.current,He.current=void 0),Fe.clear()}));r.useEffect((()=>Ue),[Ue]);const Ve=e=>{oe.clear(),te=!0,We(!0),he&&!Be&&he(e)},Xe=(0,H.A)((e=>{oe.start(800+de,(()=>{te=!1})),We(!1),me&&Be&&me(e),Oe.start(Re.transitions.duration.shortest,(()=>{Ee.current=!1}))})),Ze=e=>{Ee.current&&"touchstart"!==e.type||(Se&&Se.removeAttribute("title"),Ie.clear(),ze.clear(),se||te&&le?Ie.start(te?le:se,(()=>{Ve(e)})):Ve(e))},_e=e=>{Ie.clear(),ze.start(de,(()=>{Xe(e)}))},{isFocusVisibleRef:Ye,onBlur:Ge,onFocus:qe,ref:Je}=(0,X.A)(),[,Ke]=r.useState(!1),Qe=e=>{Ge(e),!1===Ye.current&&(Ke(!1),_e(e))},et=e=>{Se||Pe(e.currentTarget),qe(e),!0===Ye.current&&(Ke(!0),Ze(e))},tt=e=>{Ee.current=!0;const t=Te.props;t.onTouchStart&&t.onTouchStart(e)},ot=e=>{tt(e),ze.clear(),Oe.clear(),Ue(),He.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Fe.start(ae,(()=>{document.body.style.WebkitUserSelect=He.current,Ze(e)}))},rt=e=>{Te.props.onTouchEnd&&Te.props.onTouchEnd(e),Ue(),ze.start(ue,(()=>{Xe(e)}))};r.useEffect((()=>{if(Be)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||Xe(e)}}),[Xe,Be]);const nt=(0,U.A)((0,I.A)(Te),Je,Pe,t);be||0===be||(Be=!1);const it=r.useRef(),st={},lt="string"===typeof be;z?(st.title=Be||!lt||Y?null:be,st["aria-describedby"]=Be?$e:null):(st["aria-label"]=lt?be:null,st["aria-labelledby"]=Be&&!lt?$e:null);const at=(0,S.A)({},st,Ce,Te.props,{className:(0,P.A)(Ce.className,Te.props.className),onTouchStart:tt,ref:nt},pe?{onMouseMove:e=>{const t=Te.props;t.onMouseMove&&t.onMouseMove(e),re={x:e.clientX,y:e.clientY},it.current&&it.current.update()}}:{});const pt={};ie||(at.onTouchStart=ot,at.onTouchEnd=rt),Y||(at.onMouseOver=ne(Ze,at.onMouseOver),at.onMouseLeave=ne(_e,at.onMouseLeave),De||(pt.onMouseOver=Ze,pt.onMouseLeave=_e)),_||(at.onFocus=ne(et,at.onFocus),at.onBlur=ne(Qe,at.onBlur),De||(pt.onFocus=et,pt.onBlur=Qe));const ct=r.useMemo((()=>{var e;let t=[{name:"arrow",enabled:Boolean(Le),options:{element:Le,padding:4}}];return null!=(e=fe.popperOptions)&&e.modifiers&&(t=t.concat(fe.popperOptions.modifiers)),(0,S.A)({},fe.popperOptions,{modifiers:t})}),[Le,fe]),dt=(0,S.A)({},j,{isRtl:ke,arrow:C,disableInteractive:De,placement:ge,PopperComponentProp:Ae,touch:Ee.current}),ut=(e=>{const{classes:t,disableInteractive:o,arrow:r,touch:n,placement:i}=e,s={popper:["popper",!o&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",n&&"touch",`tooltipPlacement${(0,W.A)(i.split("-")[0])}`],arrow:["arrow"]};return(0,M.A)(s,G,t)})(dt),mt=null!=(o=null!=(n=ve.popper)?n:R.Popper)?o:K,ht=null!=(i=null!=(s=null!=(l=ve.transition)?l:R.Transition)?s:we)?i:B.A,xt=null!=(a=null!=(p=ve.tooltip)?p:R.Tooltip)?a:Q,gt=null!=(c=null!=(d=ve.arrow)?d:R.Arrow)?c:ee,At=(0,O.A)(mt,(0,S.A)({},fe,null!=(u=ye.popper)?u:E.popper,{className:(0,P.A)(ut.popper,null==fe?void 0:fe.className,null==(m=null!=(h=ye.popper)?h:E.popper)?void 0:m.className)}),dt),ft=(0,O.A)(ht,(0,S.A)({},je,null!=(x=ye.transition)?x:E.transition),dt),yt=(0,O.A)(xt,(0,S.A)({},null!=(g=ye.tooltip)?g:E.tooltip,{className:(0,P.A)(ut.tooltip,null==(f=null!=(y=ye.tooltip)?y:E.tooltip)?void 0:f.className)}),dt),vt=(0,O.A)(gt,(0,S.A)({},null!=(v=ye.arrow)?v:E.arrow,{className:(0,P.A)(ut.arrow,null==(b=null!=(w=ye.arrow)?w:E.arrow)?void 0:b.className)}),dt);return(0,A.jsxs)(r.Fragment,{children:[r.cloneElement(Te,at),(0,A.jsx)(mt,(0,S.A)({as:null!=Ae?Ae:$.A,placement:ge,anchorEl:pe?{getBoundingClientRect:()=>({top:re.y,left:re.x,right:re.x,bottom:re.y,width:0,height:0})}:Se,popperRef:it,open:!!Se&&Be,id:$e,transition:!0},pt,At,{popperOptions:ct,children:e=>{let{TransitionProps:t}=e;return(0,A.jsx)(ht,(0,S.A)({timeout:Re.transitions.duration.shorter},t,ft,{children:(0,A.jsxs)(xt,(0,S.A)({},yt,{children:[be,C?(0,A.jsx)(gt,(0,S.A)({},vt,{ref:Me})):null]}))}))}}))]})}));var se=o(9336),le=o(1626);const ae=(0,g.A)((0,A.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),pe=()=>{const e=(0,n.Zp)(),[t,o]=(0,r.useState)([]),[s,l]=(0,r.useState)(!0),[d,m]=(0,r.useState)([]);(0,r.useEffect)((()=>{h()}),[]);const h=async()=>{try{l(!0);const e=await v.lD.getCallouts();o(e)}catch(e){console.error("Error fetching callouts:",e)}finally{l(!1)}},x=t.filter((e=>!d.includes(e.id)));return s?(0,A.jsx)(i.A,{sx:{display:"flex",justifyContent:"center",p:3},children:(0,A.jsx)(w.A,{})}):(0,A.jsxs)(p.A,{elevation:0,sx:{borderRadius:2,mb:2,maxHeight:"calc(100vh - 200px)",overflow:"hidden",display:"flex",flexDirection:"column"},children:[(0,A.jsx)(i.A,{sx:{p:3,pb:1},children:(0,A.jsx)(i.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:(0,A.jsxs)(i.A,{sx:{display:"flex",alignItems:"center"},children:[(0,A.jsx)(le.A,{sx:{mr:2}}),(0,A.jsx)(a.A,{variant:"h6",children:"New Callouts"})]})})}),(0,A.jsx)(i.A,{sx:{overflowY:"auto",flex:1,px:3},children:(0,A.jsx)(j.A,{sx:{"& .MuiListItem-root":{mb:2}},children:x.length>0?x.map((t=>(0,A.jsxs)(r.Fragment,{children:[(0,A.jsxs)(C.Ay,{onClick:()=>(t=>{var o;null!==(o=t.opportunity)&&void 0!==o&&o.id&&e(`/opportunity/${t.opportunity.id}`)})(t),sx:{borderRadius:1,position:"relative",cursor:"pointer","&:hover":{backgroundColor:"action.hover"}},children:[(0,A.jsx)(T.A,{children:(0,A.jsx)(c.A,{src:t.calloutPicture||t.organizationLogo,alt:t.title,children:(0,A.jsx)(le.A,{})})}),(0,A.jsx)(R.A,{primary:t.title,secondary:(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(a.A,{component:"span",variant:"body2",color:"text.primary",children:t.organization})," \u2014 "+t.description.substring(0,60)+(t.description.length>60?"...":""),t.time&&(0,A.jsx)(a.A,{component:"div",variant:"caption",color:"text.secondary",sx:{mt:1},children:new Date(t.time).toLocaleDateString()})]})}),(0,A.jsx)(ie,{title:"Dismiss",children:(0,A.jsx)(u.A,{edge:"end",onClick:e=>{var o;e.stopPropagation(),o=t.id,m((e=>[...e,o]))},sx:{position:"absolute",right:8,"&:hover":{backgroundColor:"action.selected"}},children:(0,A.jsx)(ae,{fontSize:"small"})})})]}),(0,A.jsx)(se.A,{sx:{my:2}})]},t.id))):(0,A.jsx)(a.A,{variant:"body1",color:"text.secondary",align:"center",sx:{py:4},children:"No new callouts available."})})})]})},ce=()=>{(0,n.Zp)();const[e,t]=(0,r.useState)("");return(0,A.jsx)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:(0,A.jsx)(i.A,{sx:{display:"flex",minHeight:"100vh",bgcolor:"background.default"},children:(0,A.jsx)(i.A,{component:"main",sx:{flexGrow:1,ml:"240px",display:"flex",justifyContent:"center",py:3},children:(0,A.jsxs)(s.A,{maxWidth:!1,sx:{display:"flex",maxWidth:"1024px",gap:8,px:2},children:[(0,A.jsx)(i.A,{sx:{width:"630px",flexShrink:0},children:(0,A.jsx)(b,{})}),(0,A.jsx)(i.A,{sx:{width:"320px",flexShrink:0,position:"sticky",top:24,height:"fit-content",display:{xs:"none",md:"block"}},children:(0,A.jsx)(pe,{})})]})})})})}}}]);
//# sourceMappingURL=232.cb65a05d.chunk.js.map